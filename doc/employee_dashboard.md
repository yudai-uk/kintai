1) 画面レイアウト（想定）

上段：本日のステータス

現在の勤務状態（勤務前 / 勤務中 / 休憩中 / 退勤済）

実時刻：最終打刻、在席時間、休憩累計、所定との差分（不足/超過）

位置情報/IP（必要に応じて表示）、デバイス警告（位置未取得等）

中段：メイン勤怠ボタン

出勤 / 退勤 / 休憩開始 / 休憩終了 / 外出 / 戻り / 在宅切替（会社ルールに合わせて表示制御）

二重打刻防止のため、押せる/押せないが状態連動

中段（右または下）：申請ショートカット

休暇申請、時間外（残業）申請、遅刻・早退申請、打刻修正（勤怠訂正）申請、在宅勤務申請、出張申請 など

「下書き」「提出済」「差戻し」件数バッジ付き

下段：サマリーと履歴

当月サマリー：所定/実績/残業/有休残（バー表示）

本日の打刻履歴（時刻・区分）と直近数日のミニ履歴

シフト/カレンダー（自シフト、休暇・申請の反映）

お知らせ/アラート（打刻漏れ・承認待ち・月締め警告）

フッター：ヘルプ・FAQ、問い合わせ、バージョン／最終同期

2) 勤怠ボタンの挙動（押したらどうなるか）

出勤

現在時刻で「出勤」を記録

状態が「勤務中」に遷移、退勤ボタンと休憩開始ボタンが有効化

オプション：位置情報/GPS・IP・端末ID・写真の取得、ジオフェンス判定

ガード：同一時刻の二重打刻を抑止、勤務前以外は押下不可

休憩開始

現在時刻で「休憩開始」を記録

状態が「休憩中」に遷移、休憩終了ボタンのみ有効化

ガード：勤務中以外は押下不可、1日あたりの回数制限があればチェック

休憩終了

現在時刻で「休憩終了」を記録

状態が「勤務中」に戻る、休憩累計時間を更新

ガード：連続整合性（開始＜終了）チェック

外出

現在時刻で「外出」を記録（私用/業務の区分選択オプション）

状態が「外出中」に遷移、「戻り」ボタンが有効化

オプション：外出理由テンプレ入力

戻り

現在時刻で「戻り」を記録

状態が「勤務中」に戻る

在宅切替

当日の勤務形態を「在宅」へ切替（会社ルールにより申請必須の場合は申請起動）

以降の出退勤・休憩は在宅区分で集計、サマリーにも反映

退勤

現在時刻で「退勤」を記録

状態が「退勤済」に遷移、当日の勤務実績（在席－休憩）を確定

集計：所定との差分、残業見込みの自動計算（上長承認は別フロー）

ガード：休憩中/外出中は終了してからでないと押下不可、日跨ぎチェック

3) 申請ショートカットの挙動

休暇申請（有休/半休/時間休）

カレンダー選択 → 理由 → 提出

提出後は承認状態（承認待ち/承認/差戻し）をバッジ表示、承認後カレンダーへ反映

残業（時間外）申請

日付/予定時間/理由 → 提出

退勤時の実績と突合し、超過・不足を警告

打刻修正申請

誤打刻や打刻漏れに対する修正（対象時刻・区分・理由）→ 提出

申請が承認されるまで元データは保持し、履歴に監査ログを残す

遅刻/早退申請、在宅/出張申請

各テンプレから必要項目を入力 → 提出

申請結果はサマリー/カレンダー/履歴へ反映

4) 通知・アラート（例）

打刻漏れ検知：出勤のみ/退勤のみ/休憩終了なし など

承認待ちの件数通知、締め日（例：月末/翌月1～◯日）リマインド

ジオフェンス外/非許可端末からの打刻警告

オフライン打刻の「保留→再送」通知

5) 入力制御・バリデーションの要点

状態整合性：押下可能ボタンは現在状態に連動

二重打刻防止：連打・重複時刻・逆転時刻の抑止

タイムゾーン：Asia/Tokyo固定（出張等の例外は仕様次第）

オフライン対応：ローカル保留→オンライン復帰時にサーバ送信（重複マージ）

監査ログ：誰が・いつ・どこで・何を変更したかを保存（申請/承認/修正）

6) 役割別の表示（承認者向け 追加）

承認トレイ：部下一覧の「申請件数」「期限切れ間近」「差戻しあり」フィルタ

一括承認／差戻し、コメント必須化、代理承認設定

チームサマリー：当月の残業・有休残・打刻漏れ統計（CSV出力）

7) 便利UI（任意）

ワンタップ＆Undo（5〜10秒の取り消し）

ミニカレンダーで今日の予定/シフトと打刻を重ねて可視化

ショートカットキー（Web）：E=出勤、L=休憩、O=退勤 等（権限に応じて）

ヘルプ：よくある質問（「退勤を押し忘れた」「外出と休憩の違い」など）